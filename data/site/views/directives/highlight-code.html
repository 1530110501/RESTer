<md-progress-circular ng-show="isHighlighting" md-mode="indeterminate"></md-progress-circular>
<div ng-hide="isHighlighting || isCodeTooLarge">
    <md-menu class="options" ng-show="showOptions">
        <md-button aria-label="Show display options" class="md-icon-button" ng-click="$mdOpenMenu($event)">
            <md-icon md-menu-origin>more_vert</md-icon>
        </md-button>
        <md-menu-content width="4">
            <md-menu-item>
                <md-button ng-click="settings.wrap = !settings.wrap">
                    <md-icon ng-style="{'visibility': settings.wrap ? 'visible' : 'hidden'}">check</md-icon> Wrap
                </md-button>
            </md-menu-item>
            <md-menu-item ng-show="highlightedFormattedCode">
                <md-button ng-click="settings.format = !settings.format">
                    <md-icon ng-style="{'visibility': settings.format ? 'visible' : 'hidden'}">check</md-icon> Pretty Print
                </md-button>
            </md-menu-item>
            <md-menu-item ng-show="isPreviewSupported">
                <md-button ng-click="settings.preview = !settings.preview">
                    <md-icon ng-style="{'visibility': settings.preview ? 'visible' : 'hidden'}">check</md-icon> Preview
                </md-button>
            </md-menu-item>
            <md-menu-divider></md-menu-divider>
            <md-menu-item>
                <md-button ng-click="changeLanguage()">
                    <md-icon>language</md-icon> Change highlighting ({{highlightedLanguage}})
                </md-button>
            </md-menu-item>
        </md-menu-content>
    </md-menu>
    <iframe src="highlight-code.html"></iframe>
</div>
<div ng-show="isCodeTooLarge" layout="column" layout-align="center center">
    <div>The data is very large. Displaying it might slow down or even crash the browser.</div>
    <md-button class="md-raised md-primary" ng-click="forceRenderLargeCode()">
        Show it anyway!
    </md-button>
</div>
