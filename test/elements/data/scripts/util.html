<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../../../../src/site/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../../../src/site/bower_components/web-component-tester/browser.js"></script>
    <script src="../../../_utils/chrome-mock.js"></script>

    <link rel="import" href="../../../../src/site/elements/data/rester-data.html">
</head>
<body>
    <script>
        suite('RESTer.util', function () {
            'use strict';

            test('clone returns a shallow clone of an array', function () {
                const original = [1, 'test', [3, 4], {'foo': 'bar'}];
                const clone = RESTer.util.clone(original);
                expect(clone).to.deep.equal(original);
                expect(clone).to.not.equal(original);
                expect(clone[2]).to.equal(original[2]);
            });

            test('clone returns a shallow clone of an object', function () {
                const original = {'foo': 'bar', 'arr': [1, 2]};
                const clone = RESTer.util.clone(original);
                expect(clone).to.deep.equal(original);
                expect(clone).to.not.equal(original);
                expect(clone.arr).to.equal(original.arr);
            });

            test('cloneDeep returns a deep clone of an array', function () {
                const original = [1, 'test', [3, 4], {'foo': 'bar'}];
                const clone = RESTer.util.cloneDeep(original);
                expect(clone).to.deep.equal(original);
                expect(clone).to.not.equal(original);
                expect(clone[2]).to.not.equal(original[2]);
            });

            test('cloneDeep returns a deep clone of an object', function () {
                const original = {'foo': 'bar', 'arr': [1, 2]};
                const clone = RESTer.util.cloneDeep(original);
                expect(clone).to.deep.equal(original);
                expect(clone).to.not.equal(original);
                expect(clone.arr).to.not.equal(original.arr);
            });

            test('sample to return a random element from the specified array', function () {
                const data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
                const result = RESTer.util.sample(data);
                expect(data).to.include(result);
            });

            test('randInt to return a random number within the specified range', function () {
                expect(RESTer.util.randInt(42, 84)).to.be.within(42, 84);
            });
        });
    </script>
</body>
</html>
